
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>preprocess.py &#8212; WebDataMining  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">WebDataMining  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-preprocess">
<span id="preprocess-py"></span><h1>preprocess.py<a class="headerlink" href="#module-preprocess" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="preprocess.PreProcessor">
<em class="property">class </em><code class="descclassname">preprocess.</code><code class="descname">PreProcessor</code><span class="sig-paren">(</span><em>original_data_path</em>, <em>generate_data_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocess.html#PreProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocess.PreProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="preprocess.PreProcessor.extract_news">
<code class="descname">extract_news</code><span class="sig-paren">(</span><em>auto_save=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocess.html#PreProcessor.extract_news"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocess.PreProcessor.extract_news" title="Permalink to this definition">¶</a></dt>
<dd><p>This func extract news from data and save them to csv file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>auto_save</strong> – If true,func will automatically save news id with its content to a csv file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A pd.DataFrame with two attributes: news_id and content</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="preprocess.PreProcessor.extract_view_log">
<code class="descname">extract_view_log</code><span class="sig-paren">(</span><em>news_to_avoid=[]</em>, <em>auto_save=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocess.html#PreProcessor.extract_view_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocess.PreProcessor.extract_view_log" title="Permalink to this definition">¶</a></dt>
<dd><p>This func extract user view log from data and save to csv file.
Note that some news’ content may be very short after segmentation. just erase them from user view log.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>news_to_avoid</strong> – content-short news id</li>
<li><strong>auto_save</strong> – same above</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">user view log</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="preprocess.PreProcessor.generate_tokens">
<code class="descname">generate_tokens</code><span class="sig-paren">(</span><em>newsid_content</em>, <em>stop_words_path</em>, <em>auto_save=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/preprocess.html#PreProcessor.generate_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#preprocess.PreProcessor.generate_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>This func generate tokens for news,and records the ids of short news.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>newsid_content</strong> – a pd.DataFrame of news id and its content</li>
<li><strong>stop_words_path</strong> – file path of chinese stop words</li>
<li><strong>auto_save</strong> – same above ‘extract_news(..auto_save)’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a pair contains two stuff: a pd.DataFrame of news id and its tokens,and the news id of the short-content news</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/preprocess.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">WebDataMining  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Lw.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>